{"version":3,"file":"leaderboard.js","sourceRoot":"","sources":["../src/elements/leaderboard.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAa,MAAM,KAAK,CAAC;AACvD,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,EAAE,SAAS,EAAmC,MAAM,aAAa,CAAC;AACzE,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AACjC,OAAO,EAAC,MAAM,EAAC,MAAM,gBAAgB,CAAC;AAGtC,IAAa,WAAW,GAAxB,MAAa,WAAY,SAAQ,UAAU;IAiBzC;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;QACjD,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,iBAAiB;QACrB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,MAAM,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;QACvC,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC;IAClE,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,CAAc;QACrC,MAAM,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC,IAAc,CAAC;QACrC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;QACxE,IAAI,OAAO,EAAE;YACX,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,OAAO,EAAE,CAAC,CAAC,CAAC;SAClD;aAAM;YACL,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;SAC/B;IACL,CAAC;IAED,kBAAkB,CAAC,QAAgB;QACjC,IAAI,CAAC,kBAAkB,GAAG,QAAQ,CAAC;IACrC,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,CAAa;QACnC,IAAI,CAAC,IAAI,GAAI,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAC;QACjD,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3E,CAAC;IAED,MAAM;;QACJ,OAAO,IAAI,CAAA;kDACmC,IAAI,CAAC,kBAAkB;;;mBAGtD,IAAI,CAAC,IAAI;mBACT,IAAI,CAAC,iBAAiB;;;mCAGN,IAAI,CAAC,kBAAkB,qBAAqB,IAAI,CAAC,mBAAmB;;YAE3F,MAAA,IAAI,CAAC,OAAO,0CAAE,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;YAC7B,OAAO,IAAI,CAAA;;;8BAGO,MAAM;;aAEvB,CAAC;QACJ,CAAC,CAAC;;;KAGP,CAAC;IACJ,CAAC;CAsCF,CAAA;AApCQ,kBAAM,GAAG,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkClB,CAAC;AA5GF;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;yCACX;AAGhB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;4CACJ;AAGtB;IADC,KAAK,EAAE;sDAC6B;AAGrC;IADC,KAAK,EAAE;uDACmB;AAG3B;IADC,QAAQ,EAAE;yCACE;AAfF,WAAW;IADvB,aAAa,CAAC,kBAAkB,CAAC;GACrB,WAAW,CAiHvB;SAjHY,WAAW","sourcesContent":["import { LitElement, html, css, ChildPart } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { DataStore, MatchType, PlayerType, DataType } from \"./DataStore\";\nimport { router } from \"../main\";\nimport {Router} from '@vaadin/router';\n\n@customElement(\"leader-dashboard\")\nexport class Leaderboard extends LitElement {\n\n  @property({ type: Object })\n  data!: DataType;\n\n  @property({ type: Array })\n  players!: PlayerType[]\n\n  @state()\n  private dataStoreInstance: DataStore;\n\n  @state()\n  usernameWithNoData: string;\n\n  @property()\n  name: string;\n\n  constructor() {\n    super();\n    this.dataStoreInstance = DataStore.getInstance();\n    this.name = \"\";\n    this.usernameWithNoData = \"\";\n  }\n\n  async connectedCallback() {\n    super.connectedCallback();\n    await this.dataStoreInstance.getData();\n    this.players = await this.dataStoreInstance.getPlayersDetails();\n  }\n\n  async handleMatchRequest(e: CustomEvent) {\n    const name = e.detail.name as string;\n    const matchId = await this.dataStoreInstance.getMatchIdFromUsername(name);\n      if (matchId) {\n        Router.go(router.urlForPath(`/match${matchId}`));\n      } else {\n        this.handleNoPlayerData(name);\n      }\n  }\n\n  handleNoPlayerData(username: string) {\n    this.usernameWithNoData = username;\n  }\n\n  handleClickOffModal() {\n    this.usernameWithNoData = \"\";\n  }\n\n  async handleInputChange(e: InputEvent) {\n    this.name = (e.target as HTMLInputElement).value;\n    this.players = await this.dataStoreInstance.getPlayersDetails(this.name);\n  }\n\n  render() {\n    return html`\n      <div class=\"leaderboard\" @match-requested=${this.handleMatchRequest}>\n        <h3 class=\"title\">Leaderboard</h3>\n        <input\n          .value=${this.name}\n          @input=${this.handleInputChange}\n          placeholder=\"Search for a username\"\n        />\n        <no-data-modal .username=${this.usernameWithNoData} @click-off-modal=${this.handleClickOffModal} />\n        <div class=\"scrollable-leaderboard-div\">\n          ${this.players?.map((player) => {\n            return html`\n              <person-details\n                class=\"player-container\"\n                .playerData=${player}\n              ></person-details>\n            `;\n          })}\n        </div>\n      </div>\n    `;\n  }\n\n  static styles = css`\n    .leaderboard {\n      width: 50%;\n      margin: auto;\n    }\n    .title {\n      font-size: 3rem;\n    }\n    input {\n      font-family: \"Poppins\", sans-serif;\n      width: 80%;\n      border-radius: 0.5rem;\n      color: var(--pink-custom);\n    }\n    input:focus {\n      border-color: var(--pink-custom);\n      border-style: solid;\n      outline: none;\n    }\n    .scrollable-leaderboard-div {\n      margin-top: 3rem;\n      overflow-y: auto;\n      max-height: 70vh;\n      /* display: none; */\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n    .scrollable-leaderboard-div::-webkit-scrollbar {\n      display: none;\n    }\n    svg {\n      height: 5rem;\n      width: auto;\n    }\n  `;\n\n}\n"]}