{"version":3,"file":"leaderboard.js","sourceRoot":"","sources":["../src/elements/leaderboard.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAO,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAM3D,CAAC;AAEF,MAAM,UAAU,GAAG,IAAI,CAAA;;;;;;;;;;;;;CAatB,CAAC;AAIF,IAAa,WAAW,GAAxB,MAAa,WAAY,SAAQ,UAAU;IAezC;QACE,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,GAAG,EAAuB,CAAC;QACvC,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,KAAK,CAAC,SAAS;QACb,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,6FAA6F,CAAC,CAAC;QAC5H,OAAO,CAAC,GAAG,CAAC,cAAc,QAAQ,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,sCAAsC;QACtC,IAAI,CAAC,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QACxC,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;QACtB,OAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IAChD,CAAC;IAED,KAAK,CAAC,QAAQ;QACZ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;QACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACzB,IAAI,CAAC,CAAC,SAAS,KAAK,IAAI,IAAI,CAAC,CAAC,SAAS,KAAK,KAAK;gBAAE,OAAO,CAAC,CAAC,CAAA;YAC5D,IAAI,CAAC,CAAC,SAAS,KAAK,IAAI,IAAI,CAAC,CAAC,SAAS,KAAK,KAAK;gBAAE,OAAO,CAAC,CAAA;YAC3D,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;gBAAE,OAAO,CAAC,CAAC,CAAA;YAClC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM;gBAAE,OAAO,CAAC,CAAA;;gBAC5B,OAAO,CAAC,CAAA;QACf,CAAC,CAAC,CAAA;IACJ,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;;UAGL,UAAU;UACV,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;YAC1B,OAAO,IAAI,CAAA;0CACqB,MAAM;WACrC,CAAA;QACH,CAAC,CAAC;;KAEL,CAAA;IACH,CAAC;CACF,CAAA;AAvDC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;yCAQzB;AAGF;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;4CACC;AAbhB,WAAW;IADvB,aAAa,CAAC,kBAAkB,CAAC;GACrB,WAAW,CA0DvB;SA1DY,WAAW","sourcesContent":["import { LitElement, html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nexport interface playerType {\n  'username': string,\n  'points': number,\n  'is_winner': boolean\n};\n\nconst backButton = html`\n<svg fill=\"#000000\" height=\"800px\" width=\"800px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n\t viewBox=\"0 0 219.151 219.151\" xml:space=\"preserve\">\n<g>\n\t<path d=\"M109.576,219.151c60.419,0,109.573-49.156,109.573-109.576C219.149,49.156,169.995,0,109.576,0S0.002,49.156,0.002,109.575\n\t\tC0.002,169.995,49.157,219.151,109.576,219.151z M109.576,15c52.148,0,94.573,42.426,94.574,94.575\n\t\tc0,52.149-42.425,94.575-94.574,94.576c-52.148-0.001-94.573-42.427-94.573-94.577C15.003,57.427,57.428,15,109.576,15z\"/>\n\t<path d=\"M94.861,156.507c2.929,2.928,7.678,2.927,10.606,0c2.93-2.93,2.93-7.678-0.001-10.608l-28.82-28.819l83.457-0.008\n\t\tc4.142-0.001,7.499-3.358,7.499-7.502c-0.001-4.142-3.358-7.498-7.5-7.498l-83.46,0.008l28.827-28.825\n\t\tc2.929-2.929,2.929-7.679,0-10.607c-1.465-1.464-3.384-2.197-5.304-2.197c-1.919,0-3.838,0.733-5.303,2.196l-41.629,41.628\n\t\tc-1.407,1.406-2.197,3.313-2.197,5.303c0.001,1.99,0.791,3.896,2.198,5.305L94.861,156.507z\"/>\n</g>\n</svg>\n`;\n\n\n@customElement('leader-dashboard')\nexport class Leaderboard extends LitElement {\n\n  @property({ type: Object })\n  data!: {\n    'games': [],\n    'players': [{\n      'username': string,\n      'points': number,\n      'is_winner': boolean\n    }]\n  };\n\n  @property({ type: Array })\n  players: Array<playerType>; //= [];\n\n  constructor() {\n    super();\n    this.players = [] as Array<playerType>;\n    this.fetchData();\n  }\n\n  async fetchData() {\n    const response = await fetch('https://api.chess.com/pub/tournament/late-titled-tuesday-blitz-january-31-2023-3732262/11/1');\n    console.log(`response = ${response}`);\n    if (!response.ok) {\n      throw new Error('Network error from API');\n    }\n    // const data = await response.json();\n    this.data = await response.json();\n    console.log(`this.data = ${this.data}`);\n    await this.sortData();\n    console.log(`this.players = ${this.players}`);\n  }\n\n  async sortData() {\n    this.players = this.data.players;\n    this.players.sort((a, b) => {\n      if (a.is_winner === true && b.is_winner === false) return -1\n      if (b.is_winner === true && a.is_winner === false) return 1\n      if (a.points > b.points) return -1\n      if (a.points < b.points) return 1\n      else return 0\n    })\n  }\n\n  render() {\n    return html`\n      <div>\n        <h3 class=\"title\">Leaderboard</h3>\n        ${backButton}\n        ${this.players.map(player => {\n          return html`\n            <person-details .playerData=${player}></person-details>\n          `\n        })}\n      </div>\n    `\n  }\n}"]}